{"mappings":"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","sources":["src/app.js"],"sourcesContent":["'use strict';\n// Query Selectors\nconst searchBtn = getElement('.search__btn');\nconst searchInput = getElement('.search__input');\nconst pokemonContainer = getElement('.card__grid');\nconst randomBtn = getElement('.random__btn');\nconst loadingPokeball = getElement('.pokeball');\nconst headerText = getElement('h1');\nlet searchValue;\nlet html;\nlet state = {\n  pokemon: {},\n};\n\n// Helper Functions\nfunction getElement(selector) {\n  const element = document.querySelector(selector);\n  if (element === null) {\n    return null;\n  }\n  return element;\n}\n\nconst loadHelper = (e, callback) => {\n  e.preventDefault();\n  headerText.style = 'display:none';\n  pokemonContainer.innerHTML = '';\n  searchValue = searchInput.value.toLowerCase();\n  updateSuggestions(searchValue);\n  callback();\n};\n\nfunction setDisplay(element, value) {\n  element.style.display = value;\n}\n\nfunction renderError() {\n  setDisplay(loadingPokeball, 'none');\n  pokemonContainer.innerHTML = `<h2>Not a Pokemon, try something else!</h2>\n  <img\n  id=\"error__img\"\n  src=\"https://www.pngmart.com/files/22/Surprised-Pikachu-Transparent-PNG.png\"\n  alt=\"pikachu meme\"\n/>`;\n}\n\n// Call API and render the searched pokemon or error\nconst fetchPokemon = async function (searchValue) {\n  try {\n    loadingPokeball.style.display = 'block';\n    const response = await fetch(\n      `https://pokeapi.co/api/v2/pokemon/${searchValue}/`\n    );\n    const data = await response.json();\n    state.pokemon = data;\n    renderHtml();\n    setDisplay(loadingPokeball, 'none');\n  } catch (err) {\n    renderError();\n    console.log('Pokemon not Found!', err);\n  }\n};\n\n// Gives up to 10 search suggestions as user inputs letters\nconst updateSuggestions = async function (searchValue) {\n  try {\n    if (searchValue !== '') {\n      const response = await fetch(\n        `https://pokeapi.co/api/v2/pokemon/?limit=1015`\n      );\n      const data = await response.json();\n      const suggestions = data.results\n        // don't return suggestion if searchInput === pokemon name\n        .filter((pokemon) => {\n          return (\n            pokemon.name.startsWith(searchValue) &&\n            pokemon.name.toLowerCase() !== searchValue.toLowerCase()\n          );\n        })\n        .map((pokemon) => pokemon.name);\n      const datalist = getElement('#search-suggestions');\n      datalist.innerHTML = suggestions\n        .map((suggestion) => `<option value=\"${suggestion}\"></option>`)\n        .slice(0, 9)\n        .join('');\n    }\n  } catch (err) {\n    console.log('Error retrieving search suggestions!', err);\n  }\n};\n\n// Search bar functionality\nconst getPokemon = async function () {\n  const searchValue = searchInput.value.toLowerCase();\n  await fetchPokemon(searchValue);\n};\n\n// Random button functionality\nconst getRandomPokemon = async function () {\n  const randomId = Math.floor(Math.random() * 898) + 1;\n  await fetchPokemon(randomId);\n};\n\n// Render Pokemon Card's html\nconst renderHtml = function () {\n  try {\n    const { name, id, height, weight } = state.pokemon;\n    const typesArray = state.pokemon.types;\n    const pokemon = state.pokemon;\n    const types = typesArray.map((type) => type.type.name).join(', ');\n    const abilitiesArray = state.pokemon.abilities;\n    const abilities = abilitiesArray\n      .slice(0, 2)\n      .map((ability) => ability.ability.name)\n      .join(', ');\n    html = ` <container class=\"pokemon__card\" style=\"display:none\">\n  <div class=\"pokemon__name\">${pokemon.name}</div>\n  <div class=\"pokemon__number\"># ${pokemon.id}</div>\n  <img\n    class=\"pokemon__image\"\n    src=\"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/${pokemon.id}.png\"\n    alt=\"${state.pokemon.name}\"\n  />\n  <div class=\"pokemon__type\">Type: ${types}</div>\n  <div class=\"pokemon__height\">Height: ${pokemon.height}</div>\n  <div class=\"pokemon__weight\">Weight: ${pokemon.weight}</div>\n  <div class=\"pokemon__abilities\">Abilities: ${abilities}</div>\n</container>`;\n    pokemonContainer.innerHTML = html;\n    const pokemonImage = getElement('.pokemon__image');\n\n    // Waits for image to load before rest of the pokemon card is rendered\n    pokemonImage.addEventListener('load', (e) => {\n      const pokemonCard = getElement('.pokemon__card');\n      e.preventDefault();\n      setDisplay(headerText, 'none');\n      setDisplay(pokemonCard, 'block');\n      setDisplay(loadingPokeball, 'none');\n      searchInput.value = '';\n    });\n  } catch {\n    console.log('Error:', err);\n    setDisplay(loadingPokeball, 'none');\n    pokemonContainer.innerHTML = '<h2>Error, please try again.</h2>';\n  }\n};\n\n// Event listens\nrandomBtn.addEventListener('click', (e) => {\n  loadHelper(e, getRandomPokemon);\n});\n\nsearchBtn.addEventListener('click', (e) => {\n  loadHelper(e, getPokemon);\n});\n\nsearchInput.addEventListener('keydown', (e) => {\n  if (e.keyCode === 13) {\n    loadHelper(e, getPokemon);\n  }\n});\n\nsearchInput.addEventListener('input', (e) => {\n  const searchValue = e.target.value.toLowerCase();\n  updateSuggestions(searchValue);\n});\n"],"names":["$e73bf42412feb220$var$searchBtn","$e73bf42412feb220$var$getElement","$e73bf42412feb220$var$searchInput","$e73bf42412feb220$var$pokemonContainer","$e73bf42412feb220$var$randomBtn","$e73bf42412feb220$var$loadingPokeball","$e73bf42412feb220$var$headerText","$e73bf42412feb220$var$searchValue","$e73bf42412feb220$var$html","$e73bf42412feb220$var$state","pokemon","selector","element","document","querySelector","$e73bf42412feb220$var$loadHelper","e","callback","preventDefault","style","innerHTML","value","toLowerCase","$e73bf42412feb220$var$updateSuggestions","$e73bf42412feb220$var$setDisplay","display","$e73bf42412feb220$var$fetchPokemon","async","searchValue","response","fetch","data","json","$e73bf42412feb220$var$renderHtml","err1","console","log","suggestions","results","filter","name","startsWith","map","suggestion","slice","join","$e73bf42412feb220$var$getPokemon","$e73bf42412feb220$var$getRandomPokemon","randomId","Math","floor","random","id","height","weight","typesArray","types","type","abilities","ability","addEventListener","pokemonCard","err","keyCode","target"],"version":3,"file":"index.3fb559d1.js.map"}